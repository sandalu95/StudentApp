<html>
	<head>
		<!-- css files -->
		<link rel="stylesheet" href="CSS2.css">
		<link rel="stylesheet" href="bootstrap.min.css" >
	</head>

<body>
	<!-- top bar -->
	<div id="top">
			<h1 style="margin-top: 30px">Undergraduates In Sri Lanka</h1>
			<p id="para">An undergraduate degree is a colloquial term for an academic degree taken by a person who has completed undergraduate courses. It is usually offered at an institution of higher education, such as a university. The most common type of this degree is the bachelor's degree, which typically takes at least three or four years to complete. Here are some students who were able to enter the Sri Lankan Higher Education as Undergraduates.</p>
	</div>

	<div id="wrapper" style="width: 600px;float: left;margin-left: 40px;">

		<!-- Search area -->
		<div style="margin-bottom:20px;margin-left:10%;" >
			<input placeholder="Student Number" id="inputbox"></input>
			<button onclick="showData(document.getElementById('inputbox').value);">Show</button>
		</div>
		
		<!-- details area -->
		<div style="background:;">
			<div id="mainDiv2" style="background-image: url(border.png); background-repeat: no-repeat; background-size: 100%;">
				<div style="background:; margin-top: 50px;">
					
						<!-- details list -->
						<div class="y">
							<div><p>First Name :</p></div>
							<div><p id="FName2"></p></div>
						</div>

						<div class="y">
							<div><p>Last Name :</p></div>
							<div><p id="LName2"></p></div>
						</div>

						<div class="y">
							<div><p>Name with initials :</p></div>
							<div><p id="initials2"></p></div>
						</div>

						<div class="y">
							<div><p> NIC :</p></div>
							<div><p id="NIC2"></p></div>
						</div >

						<div class="y">
							<div><p>Address :</p></div>
							<div><p id="Address2"></p></div>
						</div>

						<div class="y">
							<div><p>Phone No. :</p></div>
							<div><p id="Phone2"></p></div>
						</div>

						<div class="y">
							<div><p>University :</p></div>
							<div><p id="University2"></p></div>
						</div>

						<div class="y">
							<div><p>Faculty :</p></div>
							<div><p id="Faculty2"></p></div>
						</div>

					<p id="txtHint" style="color: black"></p>
				</div>
			</div>
		</div>
	</div>

	<!-- image area -->
	<div id="Image" style="float: right; padding:10px; border:1px solid black; width: 420px; height: 440px; margin-top: 50px; margin-right: 200px;">
		<p style="text-align: center; margin-left: 0; text-decoration: underline; margin-top: 20px;">Image will be visible Here</p>	
	</div>

	<!-- script to show the details of student -->
	<script>
		function showData(StudentNo) {

        xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {

            	// ajax format to be printed in console
				console.log(this.responseText.toString().substring(25));
				var obj = JSON.parse(this.responseText.toString().substring(25));
				console.log(obj);
				
				if(obj.Fname!=""){
					document.getElementById("FName2").innerHTML = obj.Fname;
					document.getElementById("LName2").innerHTML = obj.Lname;
					document.getElementById("initials2").innerHTML = obj.NameWithInitials;
					document.getElementById("NIC2").innerHTML = obj.NIC;
					document.getElementById("Address2").innerHTML = obj.Address ;
					document.getElementById("Phone2").innerHTML = obj.Phone ;
					document.getElementById("University2").innerHTML =obj.Uni ;
					document.getElementById("Faculty2").innerHTML =obj.Faculty ;
					document.getElementById("Image").innerHTML="<img src="+obj.Image+" style='width:400px; height:420px;'>";
				}
				else
				{
					// if there is no student
					document.getElementById("FName2").innerHTML = "";
					document.getElementById("LName2").innerHTML ="";
					document.getElementById("initials2").innerHTML = "";
					document.getElementById("NIC2").innerHTML = "";
					document.getElementById("Address2").innerHTML = "" ;
					document.getElementById("Phone2").innerHTML = "";
					document.getElementById("University2").innerHTML ="" ;
					document.getElementById("Faculty2").innerHTML ="" ;
					document.getElementById("Image").innerHTML="";
				}
            }
        };
        // ajax refer the below file to get student details
        xmlhttp.open("GET","http://localhost/RestServer/readStudent.php?StudentNo="+StudentNo,true);
        xmlhttp.send();
}
</script>

</body>

</html>